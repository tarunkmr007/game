<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Canvas</title>
</head>
<body>

  <canvas id='canvas' style='border: 1px solid; width: 800px; height: 600px;'>
    Sorry, your browser does not support the canvas tag.
  </canvas>

  <script>

    // Cache a reference to the html element
    var canvas = document.getElementById('canvas');

    // Set the drawing surface dimensions to match the canvas
    canvas.width  = canvas.scrollWidth;
    canvas.height = canvas.scrollHeight;

    // Get a reference to the 2d drawing context / api
    var ctx = canvas.getContext('2d');
    var pixelData;
    // ----------------------------------------------------
    // Create a new image object
    // ----------------------------------------------------

    var image = new Image();
    var image1 = new Image();

    // ----------------------------------------------------
    // Code to run when image has loaded
    // ----------------------------------------------------

    image.onload = function() {

      // Draw image onto canvas (full size)
      ctx.canvas.width = window.innerWidth;
      ctx.canvas.height = window.innerHeight;

      ctx.drawImage(image, 0, 0, canvas.width,canvas.height);
      
      // Get pixel data from the canvas
     pixelData = ctx.getImageData(450, 30, 100, 100);

      // Iterate over all pixels to modify
      // Each pixel equals 4 items in the array (r, g, b, a)
      // 
      // In this example:
      // -------------------------------------------------- 
      // Set the green and blue channels to 0, so we're 
      // only left with the red channel

      // for(var i = 0; i < pixelData.data.length; i += 4) {

      //   // Set green and blue channels to 0
      //   pixelData.data[i + 1] = 0; // g
      //   pixelData.data[i + 2] = 0; // b
      // }

      // Put new pixel data back into canvas
      

       

    };
    function run(){
        alert('hhh');
            
         ctx.putImageData(pixelData, 450, 30);
        }


     canvas.addEventListener("mousemove", function (evt) {
            var mousePos = getMousePos(canvas, evt);
            console.log(mousePos.x + ',' + mousePos.y);
                if(mousePos.x == 490 )
               {
                ctx.drawImage(image1,450,30);
               }
                if(mousePos.x == 390 )
               {
                run();
               
               }
               

        }, false);

    function getMousePos(canvas, evt) {
        var rect = canvas.getBoundingClientRect();
        return {
            x: evt.clientX - rect.left,
            y: evt.clientY - rect.top
        };

}


    // ----------------------------------------------------
    // Start the image loading
    // ----------------------------------------------------

    image.src = 'http://stgsp.appsndevs.com:9041/Fusebill/game-test/images/holl-scene-bg-1.png';
    image1.src = "http://stgsp.appsndevs.com:9041/Fusebill/game-test/images/holl-frame-1-glow.png";




  </script>

</body>
</html>